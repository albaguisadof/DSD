<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Sensores</title>
    <script src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="estilo.css">
  </head>
  <body>
    <h1>Sistema dom√≥tico : Sensores</h1>
    <div id="formulario">
      <h2>Modificar valor de los sensores</h2>
      <div>
        <label for="luminosidad">Luminosidad:</label>
        <input type="number" id="luminosidad" />
        <button id="BotonLuminosidad">Enviar Luminosidad</button>
      </div>
      <div>
        <label for="temperatura">Temperatura:</label>
        <input type="number" id="temperatura" />
        <button id="BotonTemperatura">Enviar Temperatura</button>
      </div>
    </div>

    <script type="text/javascript">
        
      var serviceURL = document.URL;
      var socket = io.connect(serviceURL);

      var BotonLuminosidad = document.getElementById("BotonLuminosidad");
      var BotonTemperatura = document.getElementById("BotonTemperatura");

      BotonLuminosidad.addEventListener("click", enviarLuminosidad);
      BotonTemperatura.addEventListener("click", enviarTemperatura);

      function enviarLuminosidad(event) {
        event.preventDefault(); 
        var luminosidad = document.getElementById("luminosidad").value;
        var d = new Date();
        socket.emit('addLuminosidad', {luminosidad: luminosidad, time: d});
      }

      function enviarTemperatura(event) {
        event.preventDefault(); 
        var temperatura = document.getElementById("temperatura").value;
        var d = new Date();
        socket.emit('addTemperatura', {temperatura: temperatura, time: d});
      }

    </script>
  </body>
</html>
